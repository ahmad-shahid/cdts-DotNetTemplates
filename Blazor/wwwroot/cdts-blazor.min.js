function setRefTop(n){applyRefTop(n)}function setTop(n,t){if(globalSerializedTop!=n){const r=JSON.parse(n),i=document.createElement("template");i.insertAdjacentHTML("afterbegin",t?wet.builder.appTop(r):wet.builder.top(r));for(let n of i.children)n.classList.add("cdtsblazor-top-tag");document.body.querySelectorAll(".cdtsblazor-top-tag").forEach(n=>n.remove());for(let n=i.children.length-1;n>=0;n--){const t=i.children[n];document.body.insertAdjacentElement("afterbegin",t)}exitScriptObj.exitScript&&(exitScriptObj.displayModal||exitScriptObj.exitURL!=""||exitScriptObj.exitURL!=null)&&resetExitScript(exitScriptObj);globalSerializedTop=n}}function setPreFooter(n){if(globalSerializedPreFooter!=n){const i=JSON.parse(n),t=document.createElement("template");t.insertAdjacentHTML("afterbegin",wet.builder.preFooter(i));for(let n of t.children)n.classList.add("cdtsblazor-preFooter-tag");document.querySelector("main").querySelectorAll(".cdtsblazor-preFooter-tag").forEach(n=>n.remove());for(let n=t.children.length-1;n>=0;n--){const i=t.children[n];document.querySelector("main").insertAdjacentElement("beforeend",i)}exitScriptObj.exitScript&&(exitScriptObj.displayModal||exitScriptObj.exitURL!=""||exitScriptObj.exitURL!=null)&&resetExitScript(exitScriptObj);globalSerializedPreFooter=n}}function setFooter(n,t){if(globalSerializedFooter!=n){const r=JSON.parse(n),i=document.createElement("template");i.insertAdjacentHTML("afterbegin",t?wet.builder.appFooter(r):wet.builder.footer(r));for(let n of i.children)n.classList.add("cdtsfooter-footer-tag");document.body.querySelectorAll(".cdtsfooter-footer-tag").forEach(n=>n.remove());const u=Array.from(i.children);for(let n=0;n<u.length;n++){const t=u[n];document.body.appendChild(t)}exitScriptObj.exitScript&&(exitScriptObj.displayModal||exitScriptObj.exitURL!=""||exitScriptObj.exitURL!=null)&&resetExitScript(exitScriptObj);globalSerializedFooter=n}}function setRefFooter(n,t){exitScriptObj=t;applyRefFooter(n)}function setSectionMenu(n){if(globalSerializedSectionMenu!=n){$("#wb-sec, #cdts-main").wrapAll("<div class='container'><div class='row'><\/div><\/div>");const r=JSON.parse(n),t=document.createElement("div");t.insertAdjacentHTML("afterbegin",wet.builder.secmenu(r));const i=document.getElementById("wb-sec");i.childNodes.length>0?i.replaceChild(t):i.appendChild(t);exitScriptObj.exitScript&&(exitScriptObj.displayModal||exitScriptObj.exitURL!=""||exitScriptObj.exitURL!=null)&&resetExitScript(exitScriptObj);globalSerializedSectionMenu=n}}function applyRefTop(n){const t=new DOMParser,i=JSON.parse(n),r=t.parseFromString("<html><head>"+wet.builder.refTop(i)+"<\/head><\/html>","text/html"),u=r.head.childNodes,f=new FragmentLoader(document.head,u);f.run()}function applyRefFooter(n){const t=new DOMParser,i=JSON.parse(n),r=t.parseFromString("<html><body>"+wet.builder.refFooter(i)+"<\/body><\/html>","text/html"),u=r.body.childNodes,f=new FragmentLoader(document.body,u);f.run()}function FragmentLoader(n,t){this.targetElem=n;this.fragmentNodes=t;this.cursorIndex=0;this.nodeScriptClone=function(n){const t=document.createElement("script");t.text=n.innerHTML;let i=-1;const r=n.attributes;let u;while(++i<r.length)t.setAttribute((u=r[i]).name,u.value);return t};this.onScriptLoaded=function(){this.run()};this.run=function(){while(this.cursorIndex<this.fragmentNodes.length)if(this.fragmentNodes[this.cursorIndex].tagName!=null&&this.fragmentNodes[this.cursorIndex].tagName.toUpperCase()==="SCRIPT"){const n=this.nodeScriptClone(this.fragmentNodes[this.cursorIndex]),t=n.hasAttribute("src");if(t&&(n.onload=this.onScriptLoaded.bind(this)),this.targetElem.appendChild(n),this.cursorIndex++,t)return}else this.targetElem.appendChild(document.importNode(this.fragmentNodes[this.cursorIndex],!0)),this.cursorIndex++}}async function installCDTS(n){var i;document.documentElement.setAttribute("lang",n);const t=findCDTSCssHref();i=t?deriveCDTSEnv(t):deriveCDTSEnv(defaultCSSHref);await appendScriptElement(document.head,`${i.baseUrl}cdts/compiled/wet-${n}.js`,"cdts-main-js",!1)}function appendScriptElement(n,t,i,r){return new Promise(function(u,f){const e=document.createElement("script");i&&e.setAttribute("id",i);r&&(e.setAttribute("integrity",r),e.setAttribute("crossorigin","anonymous"));e.onload=u.bind(null);e.onerror=f;e.setAttribute("src",t);n.appendChild(e)})}function deriveCDTSEnv(n){if(!n)return null;try{const r=new URL(n),t=r.hostname.toLowerCase(),i=r.pathname.toLowerCase(),u=n.substring(0,n.lastIndexOf("/cdts/cdts-")+1),f=i.includes("/gcintranet/")?"gcintranet":"gcweb";let e=null;e=t==="www.canada.ca"||t==="canada.ca"?"prod":t==="cdts.service.canada.ca"?f==="gcweb"?"esdcprod":"prod":t==="templates.service.gc.ca"?"esdcprod":u;let o=null;return o=i.includes("/rn/cls/")||i.includes("/rn/cdts/")?"rn":(i.match(/\/(v[0-9]+_[0-9]+_[0-9]+)\//)||[null,null])[1],{cdnEnv:e,theme:f,version:o,baseUrl:u}}catch(t){return console.error("Unexpected error parsing CDTS stylesheet URL, unable to derive CDTS parameters, defaults will be used.",t),null}}function findCDTSCssHref(){return Array.from(document.head.querySelectorAll('link[rel="stylesheet"]')).map(n=>n.getAttribute("href")).find(n=>n?.includes("/cdts/cdts-"))||null}function resetExitScript(n){var t=document.getElementsByTagName("a");wet.utilities.wetExitScript(n.displayModal!=null?n.displayModal.toString():"undefined",n.exitURL!=null?n.exitURL:"undefined",n.exitDomains!=null?n.exitDomains:"undefined",n.exitMsg!=null?n.exitMsg:"undefined",n.yesMsg!=null?n.yesMsg:"undefined",n.cancelMsg!=null?n.cancelMsg:"undefined",n.msgBoxHeader!=null?n.msgBoxHeader:"undefined",n.targetWarning!=null?n.targetWarning:"undefined",n.displayModalForNewWindow!=null?n.displayModalForNewWindow.toString():"undefined",t)}function resetExitScriptOnPage(){resetExitScript(exitScriptObj)}function resetWetComponents(n){if(typeof $!="undefined")if(Array.isArray(n))for(let t of n)$(`.${t}`).trigger("wb-init");else $(`.${n}`).trigger("wb-init")}function SetCurrentPage(n){currentPage=n}function GetCurrentPage(){DotNet.invokeMethodAsync("GoC.WebTemplate.Blazor","GetCurrentPage",currentPage)}window.blazorCulture={get:()=>window.localStorage.BlazorCulture,set:n=>window.localStorage.BlazorCulture=n};var exitScriptObj=null,globalSerializedFooter=null,globalSerializedTop=null,globalSerializedPreFooter=null,globalSerializedSectionMenu=null,currentPage=null,defaultCSSHref="https://www.canada.ca/etc/designs/canada/cdts/gcweb/v5_0_0/cdts/cdts-styles.css";